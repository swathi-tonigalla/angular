<div *ngIf="concatWait" class="con" style="min-height: 200px;">
  <div id="progressSpinDesti"
    style="width: 100%; min-height: 150px; display: flex; align-items: center; flex-direction: column; justify-content: center;">
    <p-progressSpinner [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="6"
      fill="#EEEEEE"></p-progressSpinner>
    <small>Please Wait...</small>
    <small>{{asynMSG}}</small>
  </div>
</div>

<div *ngIf="isSelectedCriteria" class="filterMappingSelected">
  <span class="editText" style="margin-bottom: 5px;">You can map now this popup will close automatically. </span>
  <span class="editText"><small>To change current mapping click on below edit button.</small></span>

  <button pButton pRipple icon="pi pi-pencil"
    class="p-button-rounded p-button-text p-button-success p-mr-2 selectInstTypeBtn" (click)="onEdit()"></button>

</div>




<div *ngIf="!concatWait && !isSelectedCriteria" class="criteriaPanel">
  <div *ngIf="!concatWait && criteriaArr.length < 1"
    style="width: 100%; height: 100%;min-height: 200px; display: flex; align-items: center; justify-content: center;">
    <p style="font-size: 14px; text-align: center;">Please select criteria compare column from <br> source data</p>
  </div>
  <div *ngIf="criteriaArr.length >0" class="conCatsub">
    <p-messages [(value)]="msgs" [enableService]="false"></p-messages>
    <div *ngIf="criteriaArr.length >0" style="width: 100%;
          display: flex;
          align-items: center;
          padding-left: 10px;
          padding-bottom: 12px;
          border-bottom: 1px solid rgb(221, 221, 221);
          margin-bottom: 15px;
          padding-top: 7px;">

      <div style="width: 100%; font-size: 14px; font-weight: bold;">
        <p style="margin-bottom: 0px;">
          <small style="color: #0a357d;"> {{criteriaArr[0].LDname}}</small>
          is selected for criteria filter
        </p>
      </div>
      <div style="width: 41%;">
        <mat-chip [removable]="removable" (removed)="remove(0)">
          {{criteriaArr[0].LDname}}
          <mat-icon matChipRemove *ngIf="removable" class="chipsConcat">cancel</mat-icon>
        </mat-chip>
      </div>

    </div>

    <div *ngIf="criteriaArr.length >0" style="width: 100%; display: flex; flex-direction: column; align-items: center; padding-left: 10px;   padding-bottom: 12px;
        border-bottom: 1px solid rgb(221, 221, 221);
        margin-bottom: 15px;">
      <div style="width: 100%;">
        <p style="font-size: 14px; font-weight: bold; margin-bottom: 5px;">Select Uid</p>
      </div>
      <div style="display: flex; width: 100%; align-items: center;">
        <div style="width: 100%; margin-right: 10px;">

          <mat-form-field class="example-full-width mat-form-field-fullwidth">
            <mat-label>Select First UID</mat-label>
            <mat-select id="firstUidDrp" (selectionChange)="onSelectFirstUid()" [(ngModel)]="SelectedFirstUid">
              <!--  [(ngModel)]="selectedInstType"
                         (selectionChange)="onClientChange()"
                       
                        -->
              <mat-option *ngFor="let uid of postionUID" [value]="uid.id">

                {{uid?.uidName}}
                <small class="uidSpecification"><span>({{uid?.LDcolname}})</span></small>
              </mat-option>

            </mat-select>
          </mat-form-field>
        </div>
        <div style="width: 100%;">
          <mat-form-field class="example-full-width mat-form-field-fullwidth">
            <mat-label>Select Second UID</mat-label>
            <mat-select id="SecondUidDrp" [disabled]="!isFirstUiSelected" (selectionChange)="onSelectSecondUid()"
              [(ngModel)]="SelectedSecondUid">
              <!--  [(ngModel)]="selectedInstType"
                     (selectionChange)="onClientChange()"
                   
                    -->
              <mat-option *ngFor="let suid of isnotPositionUid" [value]="suid.id">

                {{suid?.uidName}}

                <small class="uidSpecification"><span>({{suid?.LDcolname}})</span></small>
              </mat-option>

            </mat-select>
          </mat-form-field>
        </div>


      </div>
    </div>

    <div style="width: 100%; min-height:200px; flex-direction: column; display: flex;  padding-left: 10px;">
      <div *ngIf="criteriaArr.length >0" style="width: 100%; margin-bottom: 30px;">
        <p style="text-align: center;">Please set criteria from source for mapping</p>
      </div>
      <div *ngIf="compareValue_findvalue.length >0"
        style="width: 100%; display: flex; align-items: center; margin-bottom: 35px;">
        <div *ngIf="isUidMatch" style="width: 100%; margin-right: 10px;">

          <div style="width: 100%; display: flex;align-items: center; justify-content: center;margin-top: 5px;">
            <mat-chip style="margin-right: 15px;" *ngFor="let crv of compareValue_findvalue;let i = index"
              [removable]="removable" (removed)="removeanother(i)">
              {{crv?.LDgroup}}.{{crv?.LDname}}
              <mat-icon matChipRemove *ngIf="removable" class="chipsConcat">cancel</mat-icon>
            </mat-chip>
          </div>

        </div>
      </div>
      <div *ngIf="compareValue_findvalue.length >1"
        style="width: 100%; display: flex; justify-content: center; align-items: center; margin-bottom: 5px; margin-top: 5px;">
        <button pButton pRipple icon="pi pi-check" label="Set Criteria"
          class="p-button-rounded p-button-success cm_button" (click)="OnsetCriteria($event)"></button>
        <button pButton pRipple icon="pi pi-times" label="Clear" class="p-button-rounded p-button-info cm_button"
          (click)="clearCriteria()"></button>
      </div>
    </div>
  </div>
</div>